<UserMacroCommand version="2.0" type="UserMacroCommand">
<Properties/>
<Comments>
 <Comment>
  <Text><![CDATA[<html>
Counts the Critical points (Needs RINGToolKit)

<i>Unfinished</i>
</html>]]></Text>
 </Comment>
</Comments>
<Content>
 <Command Type="CLIType">
  <Text>PropertyEditPropertyKind</Text>
  <Parameters>
   <interpolation_method>
    <Value flag="0">"Default"</Value>
   </interpolation_method>
   <on>
    <Value flag="0">"/gobj:Solid100_30CriticalPoints[domain=Depth][scenario='/'][survey=''][type=VSet][user=caumon5]"</Value>
   </on>
   <property>
    <Value flag="0">"/Solid100_30CriticalPoints[domain=Depth][scenario='/'][survey=''][type=VSet][user=caumon5]/property:CriticalPointOrder[property_group=''][scenario='/'][topo_dim=0][user=caumon5]"</Value>
   </property>
   <property_class>
    <Value flag="0">"CriticalPointOrder"</Value>
   </property_class>
   <property_type>
    <Value flag="0">"CriticalPointOrder"</Value>
   </property_type>
   <unit>
    <Value flag="0">"none"</Value>
   </unit>
  </Parameters>
 </Command>
 <Command Type="CLIType">
  <Text>BitRegionManagerDiscreteRegion</Text>
  <Parameters>
   <on>
    <Value flag="0">"/gobj:Solid100_30CriticalPoints[domain=Depth][scenario='/'][survey=''][type=VSet][user=caumon5]"</Value>
   </on>
   <region_prefix>
    <Value flag="0">"reg"</Value>
   </region_prefix>
   <property>
    <Value flag="0">"/CriticalPointOrder[property_group=''][scenario='/scenario:'][topo_dim=0][user=caumon5]"</Value>
   </property>
   <dynamic>
    <Value flag="0">"false"</Value>
   </dynamic>
  </Parameters>
 </Command>
 <Command Type="CLIType">
  <Text>BitRegionManagerGetRegionElementsNumber</Text>
  <Parameters>
   <on>
    <Value flag="0">"/gobj:Solid100_30CriticalPoints[domain=Depth][scenario='/'][survey=''][type=VSet][user=caumon5]"</Value>
   </on>
   <region>
    <Value flag="0">"regLocalMax"</Value>
   </region>
   <exclude_dead_elements>
    <Value flag="0">"true"</Value>
   </exclude_dead_elements>
  </Parameters>
 </Command>
 <Command Type="For">
  <Text>var ip in $scalarField$</Text>
  <Command Type="CLIType">
   <Text>FindTSolidCriticalPoints</Text>
   <Parameters>
    <on>
     <Value flag="1">$Solid$</Value>
    </on>
    <property>
     <Value flag="1">$scalarField$[ip]</Value>
    </property>
    <ignore_borders>
     <Value flag="0">"true"</Value>
    </ignore_borders>
   </Parameters>
  </Command>
  <Command Type="JSVariable">
   <Text>pointsName</Text>
   <VariableType>String</VariableType>
   <VariableScoped>Yes</VariableScoped>
   <VariableId>$Solid$ + "CriticalPoints"</VariableId>
  </Command>
  <Command Type="JSVariable">
   <Text>newPointsName</Text>
   <VariableType>String</VariableType>
   <VariableScoped>Yes</VariableScoped>
   <VariableId>$scalarField$[ip] + pointsName</VariableId>
  </Command>
  <Command Type="CLIType">
   <Text>GObjRename</Text>
   <Parameters>
    <gobj>
     <Value flag="1">pointsName</Value>
    </gobj>
    <new_name>
     <Value flag="1">newPointsName</Value>
    </new_name>
   </Parameters>
  </Command>
 </Command>
 <Command Type="EndOfScope"/>
</Content>
<Variables>
 <Variable>
  <alias>$Solid$</alias>
  <type>TSolid</type>
  <default_value>"/gobj:Solid100_30[domain=Depth][scenario='/'][type=TSolid][user=caumon5]"</default_value>
  <cmdName>FindTSolidCriticalPoints</cmdName>
  <cmdParamName>TSolid</cmdParamName>
  <cmdParamEltIndex>0</cmdParamEltIndex>
 </Variable>
 <Variable>
  <alias>$scalarField$</alias>
  <type>String</type>
  <dependency>/Properties</dependency>
  <default_value/>
  <cmdName>EditPropertySettings</cmdName>
  <cmdParamName>property_names</cmdParamName>
  <cmdParamEltIndex>0</cmdParamEltIndex>
 </Variable>
 <Variable>
  <alias>$RUN.JR$</alias>
  <type>Integer</type>
  <default_value>0</default_value>
  <comment>Internal variable for Jacta realizations</comment>
  <built-in>true</built-in>
 </Variable>
 <Variable>
  <alias>$RUN.I$</alias>
  <type>Integer</type>
  <default_value>1</default_value>
  <comment>Internal variable for simulation index</comment>
  <built-in>true</built-in>
 </Variable>
 <Variable>
  <alias>$RUN.N$</alias>
  <type>Integer</type>
  <default_value>1</default_value>
  <comment>Internal variable for number of simulations</comment>
  <built-in>true</built-in>
 </Variable>
</Variables>
<DialogSpecifications/>

</UserMacroCommand>
